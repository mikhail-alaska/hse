# Вспомогательные формулы

$$A_n^k = \frac{n!}{(n-k)!}$$
$$C_n^k = \frac{n!}{k!(n-k)!}$$


### Формула Байеса
где $P(B|A)$ - событие В уже наступило, надо посчитать вероятность 
наступления события А
$$P(B|A) = \frac{P(A|B)P(B)}{P(A)}$$

### Формула Бернулли
Применяется когда одно и то же событие повторяется многократно,
причем исход каждого события независима от других

- n - количество повторений
- m - желаемое количество
- $\omega_0$ - вероятность успеха
- $\omega_1$ - вероятность не успеха
Вероятность успешного успеха
$$C_n^m (P(\omega_0))^m(P(\omega_1))^{n-m}$$
### База
Если $A = B \cup C$, то
$P(A) = P(B) - P(C) - P(B\cap C)$

Если $A = B\cup C \cup D$ , то можно представить 
$A = B\cup C \cup D = (B\cup C)\cup D$

Какова вероятность А если произошло В?
$$P(A|B)=\frac{P(A \cap B)}{P(B)}$$

### Формула полной вероятности
Пусть $\displaystyle\sum_{i=0}^{n} P(A_i)=1$ 

$P(A)=\displaystyle\sum_{i=0}^{n}P(A|A_i)P(A_i) = \displaystyle\sum_{i=0}^{n}P(A\cap A_i)$
### Полная независимость
$$P(A\cap B)=P(A)P(B)$$

### Условная независимость
Если из события А могут последовать два разных независимых друг
от друга события, то такие события называют условно независимыми.
Вероятность того, что они произойдут одновременно, после события А:
$$P(B_0\cap B_1|A)=P(B_0|A)*P(B_1|A)$$

### Разложение на слагаемые

Если есть число n, которое мы хотим разложить на r слагаемых, где
каждое должно быть натуральным, то представим это в тако виде:
n мы представим как n единиц, а r слагаемых - (r-1) палку-разделитель.
Тогда у нас будет n-1 место для палки и r-1 палка.
Получается, что тогда всего способов для натуральных слагаемых:
$$C_{n-1}^{r-1}$$

### Отрицания
$$P(A^C|B)=1-P(A|B)$$

#### Законы Моргана
$$(A\cap B)^C = A^C \cup B^C$$
$$(A\cup B)^C = A^C \cap B^C$$

А если у нас неотрицательные слагаемые, то тут чуть сложнее.
$$n = x_0 +x_1 +...+x_r\,,\text{где}\,x_i\ge0 $$
Значит, можно к каждому элементу справа прибавить 1 и потом 
вычесть их количество (m), чтобы были только натуральные числа.
$$n=(x_0+1)+(x_1+1)+...(x_r+1) -r$$
$$n+r=(x_0+1)+(x_1+1)+...(x_r+1)$$
Значит, у нас задачка превратилась в сколько способов разбить на
m слагаемых число ${n + r}$, значит финальная формула будет:
$$C_{n+r-1}^{r-1}$$
# Теоретические вопросы к экзамену

### 1.
**Число целых неотрицательных решений уравнения 
$x_1+x_2+...+x_r = n$, вывод формулы. Сформулировать 
задачу комбинаторики, которая сводится к обозначенной задаче,
указав свойства обьектов, подлежащих размещению, и соответствующих
групп.**

$С_{n+r-1}^{r-1}$



# Пробные задачки к экзамену
1. Найти вероятность, что при случайной рассадке 3 человек на 7
стульев, поставленных в ряд, все эти люди окажутся сидящими рядом.
$$P(A)=\frac{|A|}{|\Omega|}\,,\text{где}\, A -\text{благоприятные события} $$
$$|A|=30\quad|\Omega| = A_7^3=\frac{7!}{3!} = 5*6*7$$
$$P = \frac{5*3!}{5*6*7}=\frac{1}{7}$$

2. Вероятность рождения голубоглазого ребенка в семье равна
$^1/_4$ и это свойство наследуется детьми вне зависимости друг
от друга. Если в данной семье 6 детей и известно что по крайней
мере 1 голубоглазый, то какова вероятность, что по крайней мере
3 ребенка в этой семье голубоглазые.

Вероятность, что родится хотя один голубоглазый ребенок обозначу
как А. Вероятность, что родится $\ge2$ голубоглазых детей обозначу
как B.
Тогда нас интересует $P(B|A)$, что по формуле Байеса превращается
в 
$$\frac{P(A|B)*P(B)}{P(A)}$$
В нашем случае, если выполняется В, то выполнится и А, а значит,
что $P(A|B) = 1$ $\Rightarrow$
$$P(B|A) =\frac{P(A|B)*P(B)}{P(A)}=\frac{P(B)}{P(A)} $$
P(A) = 1 - вероятность, что не родится ни один голубоглазый$\Rightarrow$
$$P(A)=1-C_6^0(1/4)^0(3/4)^6 = 1-(3/4)^6$$
по формуле Бернулли для n = 6, m = 0

$P(B)= 1-\text{(вероятность рождения 0 голубоглазых + вероятность рождения 1 голубоглазого)}$
$$P(B)= 1 - (P(B_0)+P(B_1)+P(B_2)$$
$$P(B) = 1 - ((3/4)^6 + C_6^1(1/4)^1(3/4)^5 +C_6^2(1/4)^2(3/4)^4)$$
$$P(B|A)=\frac{P(B)}{P(A)} = \text{лень вставлять} $$
3. Пусть события A и В таковы, что $0<P(A)<1$ и $0<P(B)<1$. Верно
или нет? 
- Если $P(A|B)>P(B|A) \,,\text{то}\, P(A)>P(B)$

$$P(A|B)=\frac{P(B|A)P(A)}{P(B)}\Rightarrow 
\frac{P(A|B)}{P(B|A)} = \frac{P(A)}{P(B)} \Rightarrow P(A)>P(B)$$

- Если $P(A|B)>P(B|A^C) \,,\text{то}\, P(A|B)>P(A)>P(A|B^c)$

$$P(A)=P(A|B)P(B)+P(A|B^c)P(B^c)$$
$$P(A)=P(A|B)P(B)+P(A|B^c)(1-P(B))$$
$$P(A)=P(A|B)P(B)+P(A|B^c)-P(B)P(A|B^c)$$
$$P(A)=P(B)(P(A|B)-P(A|B^c))+P(A|B^c)$$
$$P(A|B)-P(A|B^c)>0\Rightarrow P(A)>P(A|B^c)$$
$$P(A)=P(A|B)(1-P(B^c))+P(A|B^c)P(B^c)$$
$$P(A) = P(A|B)-P(A|B)P(B^c)+P(A|B^c)P(B^c)$$
$$P(A)=P(B^c)(P(A|B^c)-P(A|B))+P(A|B)$$
$$P(B^c)(P(A|B)-P(A|B^c))+P(A)=P(A|B)$$
$$P(A|B)-P(A|B^c)>0\Rightarrow P(A|B)>P(A)$$


- Пусть $P(A|B)=1$. Найти $P(B^c|A^c)$

Так как $P(A|B)=1$, то $P(A\cap B)=P(B)\Rightarrow B\in A$
$$P(B^c|A^c)=\frac{B^c\cap A^c}{A^c}=
\frac{(B\cup A)^c}{A^c} \Leftarrow (B \in A)\Rightarrow(B\cup A)=A$$
$$P(B^c|A^c)=\frac{A^c}{A^c}=1$$

4.  Вероятность, что дорога через перевал будет открыта, равна 0,6.
Путешественник поедет через перевал с вероятностью в 0,7 в тех
случаях, когда дорога через него открыта. В качестве альтернативы
при открытой дороге через перевал или в случае, если дорога
через перевал закрыта, он поедет по другому пути. События одного
дня не влияют на события другого дня. Вопросы: 1) Вчера он НЕ ехал
через перевал. Какова вероятность, что дорога через перевал была
закрыта? 2) За последние три поездки он ни разу не ехал через
перевал. Какова вероятность, что все три раза дорога через перевал
была закрыта?

1) Вероятность, что дорога была закрыта 

 - A - дорога открыта
 - B - он выбрал эту дорогу
 $$P(B|A) = 0,7$$
 $$P(B|A^c) = 0\quad P(B^c|A^c) = 1$$
 $$P(A)=0.6\quad P(A^c)=0.4$$
 $$P(B)=0,6*0,7 =0,42 \quad P(B^c) = 0,58$$

Необходимо найти $P(A^c|B^c)$
$$P(A^c|B^c) = \frac{P(B^c|A^c)P(A^c)}{P(B^c)} = 
\frac{P(A^c)}{P(B^c)} = \frac{0.4}{0,58} = \frac{40}{58}
$$

2. Три дня закрытой дороги
$$P^3(A^c|B^c) = \frac{20^3}{29^3}$$

# Задачи для тренировки
7. Пара костей выбрасывается до тех пор, пока в сумме не выпадет
либо 5, либо 7. Найти вероятность, что сумма 5 выпадет раньше.
